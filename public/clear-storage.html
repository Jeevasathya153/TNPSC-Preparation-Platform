<!DOCTYPE html>
<html>
<head>
    <title>Clear Storage</title>
    <style>
        body { font-family: monospace; padding: 40px; background: #000; color: #0f0; text-align: center; }
        button { background: #0f0; color: #000; padding: 20px 40px; font-size: 18px; border: none; cursor: pointer; margin: 20px; }
        button:hover { background: #0c0; }
        pre { background: #111; padding: 20px; border: 1px solid #0f0; text-align: left; margin: 20px auto; max-width: 600px; }
    </style>
</head>
<body>
    <h1>ðŸ§¹ Clear All Storage</h1>
    <p>This will clear all localStorage, sessionStorage, and cookies</p>
    
    <button onclick="clearAndRedirect()">Clear Storage & Go to Login</button>
    
    <h2>Current Storage:</h2>
    <pre id="storage"></pre>

    <script>
        function showStorage() {
            const storage = {
                localStorage: {...localStorage},
                sessionStorage: {...sessionStorage}
            };
            document.getElementById('storage').textContent = JSON.stringify(storage, null, 2);
        }
        
        function clearAndRedirect() {
            console.log('Clearing all storage...');
            
            // Clear localStorage
            localStorage.clear();
            
            // Clear sessionStorage
            sessionStorage.clear();
            
            // Unregister service workers
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.getRegistrations().then(registrations => {
                    registrations.forEach(registration => registration.unregister());
                });
            }
            
            // Clear caches
            if ('caches' in window) {
                caches.keys().then(names => {
                    names.forEach(name => caches.delete(name));
                });
            }
            
            alert('Storage cleared! Redirecting to login...');
            window.location.href = '/login';
        }
        
        showStorage();
    </script>
</body>
</html>
